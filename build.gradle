plugins {
    id "org.jetbrains.intellij"
    id "org.jetbrains.kotlin.jvm"
}

dependencies {
    implementation "org.jetbrains.kotlin:kotlin-gradle-plugin"
    implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk8"
    implementation "io.fabric8:kubernetes-client:4.6.4"
    implementation "io.fabric8:openshift-client:4.6.4"
    testImplementation "org.junit.jupiter:junit-jupiter:5.5.2"
    testImplementation "org.assertj:assertj-core:3.14.0"
    testImplementation "org.jetbrains.kotlin:kotlin-test-junit"
}

configurations {
    compile {
        exclude group: 'org.slf4j', module: 'slf4j-api'
    }
    compileOptions {
        sourceCompatibility = 1.8
        targetCompatibility = 1.8
    }

    compileKotlin {
        kotlinOptions {
            jvmTarget = "1.8"
        }
    }

    integrationTestImplementation.extendsFrom testImplementation
    integrationTestRuntimeOnly.extendsFrom testRuntimeOnly
}

intellij {
    version ideaVersion
    pluginName 'org.jboss.tools.intellij.kubernetes'
}

group 'org.jboss.tools.intellij'
version projectVersion

publishPlugin {
    token    jetBrainsToken
    channels jetBrainsChannel
}

repositories {
    mavenCentral()
}
